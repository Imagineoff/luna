<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Silent Studio</title>
  <meta name="description" content="Silent Studio — command-driven psycho-horror landing page." />
  <link rel="icon" href="https://raw.githubusercontent.com/Imagineoff/Imagineweb/main/IMG_4254.png" />

  <style>
    :root{
      --bg: #050204;
      --panel: rgba(255,255,255,0.02);
      --glass: rgba(255,255,255,0.03);
      --muted: #9a9a9a;
      --accent: #7fe7ff;
      --accent-2: #d68bff;
      --white: #ffffff;
      --terminal-bg: #020202;
      --terminal-fore: #86ffff;
      --radius: 12px;
      --max-width: 1100px;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial; background:var(--bg); color:var(--white); -webkit-font-smoothing:antialiased}
    a{color:var(--accent)}
    /* layout */
    .stage{
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:32px;
      position:relative;
      overflow:hidden;
    }
    /* background hero image */
    .bg{
      position: absolute; inset:0; z-index:0;
      background-image: url('https://raw.githubusercontent.com/Imagineoff/Imagineweb/main/IMG_4251.gif');
      background-size: cover; background-position:center;
      filter: brightness(.38) contrast(1.1);
      transform:scale(1.02);
      transition: filter .6s ease, transform .6s ease;
    }
    .overlay{
      position:absolute; inset:0; background:linear-gradient(180deg, rgba(0,0,0,0.45), rgba(0,0,0,0.7)); z-index:1;
      transition: backdrop-filter .45s ease, opacity .45s ease;
    }

    /* blur layer active until ENTER */
    .locked .content{
      filter: blur(8px) saturate(.7);
      user-select:none;
      pointer-events:none;
      transition: filter .45s ease;
    }
    /* main content container (centered) */
    .content{
      position:relative;
      z-index:3;
      width: min(920px, 94%);
      max-width:920px;
      margin: 0 auto;
    }

    /* entrance gate */
    .gate{
      position:fixed;
      z-index:4;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      pointer-events:auto;
    }
    .enter-card{
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border:1px solid rgba(255,255,255,0.03);
      padding:26px 34px; border-radius:12px; text-align:center;
      box-shadow: 0 20px 80px rgba(0,0,0,0.7);
      backdrop-filter: blur(6px);
    }
    .enter-btn{
      margin-top:12px;
      padding:10px 18px; border-radius:10px; background:transparent;
      border:1px solid rgba(255,255,255,0.06); color:var(--white); cursor:pointer;
      font-family:inherit; font-size:16px;
    }
    .enter-sub{ margin-top:8px; color:var(--muted); font-size:14px; }

    /* terminal centered */
    .terminal-wrap{
      width:100%;
      display:flex;
      flex-direction:column;
      gap:12px;
      align-items:center;
      justify-content:center;
    }
    .brand{
      text-align:center; margin-bottom:8px;
    }
    .logo{
      font-family: 'Orbitron', monospace; font-size:28px; letter-spacing:2px;
      display:inline-block;
    }
    .lead{ color:#cfcfcf; margin-top:6px; font-size:14px }

    /* terminal box */
    .terminal{
      width:100%;
      background:var(--terminal-bg);
      color:var(--terminal-fore);
      padding:14px;
      border-radius:10px;
      border:1px solid rgba(0,255,255,0.03);
      box-shadow: 0 16px 60px rgba(0,0,0,0.7);
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace;
      font-size:13px;
      min-height:260px;
      max-height:56vh;
      overflow:auto;
      position:relative;
    }
    .terminal .line{ white-space:pre-wrap; margin:.25rem 0 }
    .terminal .muted{ color:var(--muted); font-size:13px }
    .prompt{ color:var(--terminal-fore) }

    /* input row (only bottom small) */
    .cmdline{
      width:100%;
      display:flex;
      gap:8px;
      margin-top:6px;
    }
    .cmdline input{
      flex:1; padding:10px 12px; border-radius:8px; border:1px solid rgba(255,255,255,0.04);
      background:#070707; color:var(--white); font-family:inherit; font-size:14px;
    }
    .cmdline button{
      padding:10px 12px; border-radius:8px; background:transparent; border:1px solid rgba(255,255,255,0.06);
      color:var(--white); cursor:pointer;
    }

    /* games box - now with slideshow */
    .games{
      margin-top:12px;
      width:100%;
      background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
      border:1px solid rgba(255,255,255,0.02);
      padding:12px; border-radius:10px; text-align:center;
      color:var(--muted);
    }
    .game-slideshow {
      position: relative;
      width: 100%;
      aspect-ratio: 16 / 9; /* Common aspect ratio for game art */
      margin-top: 10px;
      border-radius: 6px;
      overflow: hidden;
      background: #000; /* Fallback */
    }
    .game-slideshow .slide {
      position: absolute;
      inset: 0;
      opacity: 0;
      transition: opacity 1.0s ease-in-out; /* Fade effect */
      cursor: pointer;
    }
    .game-slideshow .slide.active {
      opacity: 1;
    }
    .game-slideshow .slide img {
      width: 100%;
      height: 100%;
      object-fit: contain; /* 'contain' ensures the whole image is visible */
    }

    /* NEW: Easy Links section */
    .easy-links {
      width: 100%;
      display: flex;
      flex-wrap: wrap; /* Allows wrapping on small screens */
      align-items: center;
      justify-content: center;
      gap: 12px;
      margin-top: 16px; /* Space above links */
    }
    .easy-links a {
      font-family: inherit;
      font-size: 14px;
      color: var(--accent);
      text-decoration: none;
      background: var(--panel);
      border: 1px solid var(--glass);
      padding: 8px 14px;
      border-radius: 8px;
      transition: background .2s ease, color .2s ease;
    }
    .easy-links a:hover,
    .easy-links a:focus {
      background: rgba(255,255,255,0.05);
      color: var(--white);
      outline: none;
    }

    /* horror/glitch effects when active */
    body.horror .bg{ filter: brightness(.2) contrast(1.8) saturate(.4) hue-rotate(8deg) }
    body.horror .terminal{ box-shadow: 0 24px 120px rgba(0,0,0,0.85); border-color: rgba(255,0,120,0.12) }
    /* subtle screen glitch overlay */
    .glitch-overlay{
      position:fixed; inset:0; pointer-events:none; z-index:5;
      mix-blend-mode: screen; opacity:0; transition: opacity .25s ease;
    }
    body.horror .glitch-overlay{ opacity:1 }
    .glitch-slice{
      position:absolute; left:0; right:0; height:12vh; background:linear-gradient(90deg, transparent, rgba(255,0,120,0.03), transparent);
      transform: translateX(-8%); animation: slice 3s infinite linear;
    }
    .glitch-slice.s2{ top:30%; animation-duration:2.6s; animation-delay:0.2s; transform: translateX(10%) }
    .glitch-slice.s3{ top:60%; animation-duration:3.6s; animation-delay:0.5s; transform: translateX(-6%) }
    @keyframes slice {
      0%{ transform:translateX(-10%) skewX(-2deg) }
      50%{ transform:translateX(10%) skewX(2deg) }
      100%{ transform:translateX(-10%) skewX(-2deg) }
    }

    /* small responsive */
    @media (max-width:720px){
      .terminal{ min-height:220px; }
      .logo{ font-size:22px }
      .easy-links { gap: 8px; }
      .easy-links a { font-size: 13px; padding: 7px 10px; }
    }
  </style>
</head>
<body class="locked">
  <div class="bg" aria-hidden="true"></div>
  <div class="overlay" aria-hidden="true"></div>

  <div class="glitch-overlay" aria-hidden="true">
    <div class="glitch-slice s1" style="top:10%"></div>
    <div class="glitch-slice s2"></div>
    <div class="glitch-slice s3"></div>
  </div>

  <div class="gate" id="gate" aria-hidden="false">
    <div class="enter-card" role="dialog" aria-label="Enter to Silent Studio">
      <div style="font-family:Orbitron, monospace; font-size:20px; letter-spacing:2px">SILENT STUDIO</div>
      <div class="enter-sub">Enter to unlock sound and the terminal interface</div>
      <button class="enter-btn" id="enterBtn" aria-label="Enter site">ENTER</button>
      <div class="enter-sub" style="margin-top:10px; font-size:13px; color:var(--muted)">All controls are through the terminal. Type <code>help</code>.</div>
    </div>
  </div>

  <main class="stage content" aria-live="polite">
    <div class="content">
      <div class="brand">
        <div class="logo">Silent Studio</div>
        <div class="lead">Psycho-horror game studio — command-driven landing experience.</div>
      </div>

      <div class="terminal-wrap" role="application" aria-label="Silent terminal">
        <div id="terminal" class="terminal" role="log" aria-live="polite" aria-atomic="false">
          </div>

        <div class="cmdline" role="form" aria-label="Command line">
          <input id="cmdInput" type="text" placeholder="Type command (help, contact, support, games, about, special, fun, clear, exit)" aria-label="Command input" autocomplete="off" />
          <button id="cmdSend" aria-label="Send command">→</button>
        </div>

        <div class="games" aria-hidden="false">
          <strong>Games:</strong>
          <div class="game-slideshow">
            <a href="https://silentstudio.vercel.app/soon.html" target="_blank" rel="noopener noreferrer" class="slide active">
              <img src="https://i.imgur.com/bH7JYlb.jpeg" alt="Game Teaser 1">
            </a>
            <a href="https://silentstudio.vercel.app/soon.html" target="_blank" rel="noopener noreferrer" class="slide">
              <img src="https://i.imgur.com/tgB92Fc.png" alt="Game Teaser 2">
            </a>
          </div>
        </div>
        
        <div class="easy-links">
          <a href="mailto:assist.silent.studio@gmail.com" target="_blank">Email</a>
          <a href="https://www.patreon.com/Silent_Studio" target="_blank">Patreon</a>
          <a href="https://x.com/_silent_studio" target="_blank" title="Link to X (Twitter) profile">X (Twitter)</a>
        </div>

      </div>
    </div>
  </main>

  <script>
    /*************************************************************************
     * Command-driven Silent Studio
     * - Entire site is controlled via terminal commands
     * - Entrance gate must be clicked first to enable audio
     * - Outputs use a typewriter effect
     *************************************************************************/

    // Selectors
    const body = document.body;
    const gate = document.getElementById('gate');
    const enterBtn = document.getElementById('enterBtn');
    const terminal = document.getElementById('terminal');
    const cmdInput = document.getElementById('cmdInput');
    const cmdSend = document.getElementById('cmdSend');
    const overlay = document.querySelector('.overlay');
    const bg = document.querySelector('.bg');
    const glitchOverlay = document.querySelector('.glitch-overlay');

    // State
    let audioCtx = null;
    let ambientNodes = null;
    let ambientStarted = false;
    let horrorActive = false;
    let log = [];

    // Utility: append line (typed with typewriter)
    function appendTypedLine(text, opts = {}) {
      // opts: speed(ms per char), className
      const speed = opts.speed || 12; // lower => faster
      const cls = opts.className || '';
      const container = document.createElement('div');
      container.className = 'line ' + cls;
      terminal.appendChild(container);
      terminal.scrollTop = terminal.scrollHeight;

      // typewriter effect
      let i = 0;
      function step(){
        // append next char
        container.textContent = text.slice(0, i+1);
        i++;
        terminal.scrollTop = terminal.scrollHeight;
        if(i < text.length) {
          setTimeout(step, speed);
        } else {
          // done
          // store in log
          log.push(text.replace(/\x1b\[[0-9;]*m/g, ''));
        }
      }
      step();
    }

    // immediate append (no typewriter)
    function appendLine(text, cls='') {
      const div = document.createElement('div');
      div.className = 'line ' + cls;
      div.textContent = text;
      terminal.appendChild(div);
      terminal.scrollTop = terminal.scrollHeight;
      log.push(text);
    }
    
    // NEW: Utility to append raw HTML (for links)
    function appendLineHTML(html, cls='') {
      const div = document.createElement('div');
      div.className = 'line ' + cls;
      div.innerHTML = html; // Use innerHTML to render links
      terminal.appendChild(div);
      terminal.scrollTop = terminal.scrollHeight;
      // We skip adding this to the 'log' array as it's not plain text
    }

    // initial messages (typewriter)
    function bootMessages(){
      appendTypedLine('Silent Studio — command terminal', {speed:10, className:'muted'});
      setTimeout(()=> appendTypedLine('Type "help" for a list of commands.', {speed:10, className:'muted'}), 600);
    }

    // COMMANDS
    const COMMANDS = {
      help() {
        appendTypedLine('Available commands: help, contact, support, games, about, special, fun, clear, exit', {speed:8});
        // NEW: Tip about the easy links
        appendLine('Tip: You can also use the quick links below.', 'muted');
      },
      contact() {
        // UPDATED: Now prints a clickable link
        appendLineHTML(
          'Contact: <a href="mailto:assist.silent.studio@gmail.com" target="_blank">assist.silent.studio@gmail.com</a>'
        );
      },
      support() {
        // UPDATED: Now prints a clickable link
        appendLineHTML(
          'Support: <a href="https://www.patreon.com/Silent_Studio" target="_blank" rel="noopener noreferrer">patreon.com/Silent_Studio</a>'
        );
        appendLine('Link will open in a new tab.', 'muted');
      },
      games() {
        appendTypedLine('chech the box below!', {speed:10});
      },
      about() {
        appendTypedLine('Silent Studio — psycho-horror experiments using procedural audio and subtle visuals.', {speed:8});
      },
      special() {
        appendTypedLine('Engaging SPECIAL: images destabilizing...','',{speed:10});
        engageHorror();
      },
      fun() {
        // alias for special
        COMMANDS.special();
      },
      clear() {
        terminal.innerHTML = '';
        appendTypedLine('Terminal cleared.', {speed:8, className:'muted'});
      },
      exit() {
        appendTypedLine('Exiting to gate. (Audio will continue)', {speed:10});
        // re-lock visuals but DO NOT stop audio
        setTimeout(()=> {
          body.classList.add('locked');
          gate.style.display = 'flex';
          overlay.style.pointerEvents = 'auto';
          // blur is controlled by .locked class on body
        }, 800);
      }
    };

    // handle unknown
    function handleUnknown(cmd) {
      appendTypedLine(`Unknown command: "${cmd}". Type "help".`, {speed:10});
    }

    // run command
    function runCommand(raw) {
      if(!raw || !raw.trim()) return;
      const input = raw.trim();
      // show echo
      appendLine('> ' + input, 'prompt');
      // command core (first token)
      const cmd = input.split(' ')[0].toLowerCase();
      if(COMMANDS[cmd]) {
        COMMANDS[cmd](input);
      } else {
        handleUnknown(cmd);
      }
    }

    // Input events
    cmdSend.addEventListener('click', ()=> {
      runCommand(cmdInput.value);
      cmdInput.value = '';
      cmdInput.focus();
      quickBeep();
    });
    cmdInput.addEventListener('keydown', (e)=>{
      if(e.key === 'Enter'){ cmdSend.click(); }
    });

    // ENTER gate click: unblur, start audio, focus terminal
    enterBtn.addEventListener('click', async ()=> {
      // remove gate visually
      gate.style.display = 'none';
      body.classList.remove('locked');
      // begin audio (must be started by user gesture)
      if(!ambientStarted) {
        try { initAmbient(); } catch(e){ console.warn('audio init failed', e); }
      }
      ambientStarted = true;
      // initial boot messages after slight delay
      setTimeout(()=> {
        bootMessages();
        cmdInput.focus();
      }, 260);
    });

    // quick beep for UI feedback (uses audio if available)
    function quickBeep(){
      if(!audioCtx) return;
      const g = audioCtx.createGain(); g.gain.value = 0.02; g.connect(audioCtx.destination);
      const o = audioCtx.createOscillator(); o.type = 'square'; o.frequency.value = 660 + Math.random()*120;
      o.connect(g); o.start();
      o.stop(audioCtx.currentTime + 0.06);
      g.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + 0.06);
    }

    // AMBIENT AUDIO: drone + noise (simple, looped). Will be started by enter button.
    function initAmbient(){
      try {
        audioCtx = new (window.AudioContext || window.webkitAudioContext)();
      } catch(e){
        console.warn('No WebAudio');
        return;
      }
      const master = audioCtx.createGain();
      master.gain.value = 0.32;
      master.connect(audioCtx.destination);

      // two slow sine oscillators (drone)
      const o1 = audioCtx.createOscillator(); o1.type = 'sine'; o1.frequency.value = 48.7;
      const o2 = audioCtx.createOscillator(); o2.type = 'sine'; o2.frequency.value = 97.3;
      const g1 = audioCtx.createGain(); g1.gain.value = 0.07;
      const g2 = audioCtx.createGain(); g2.gain.value = 0.05;

      // LFO
      const lfo = audioCtx.createOscillator(); lfo.frequency.value = 0.04;
      const lfoGain = audioCtx.createGain(); lfoGain.gain.value = 8;
      lfo.connect(lfoGain);
      lfoGain.connect(o1.frequency);
      lfoGain.connect(o2.frequency);

      o1.connect(g1); g1.connect(master);
      o2.connect(g2); g2.connect(master);

      // short brownish noise for texture
      const bufferSize = audioCtx.sampleRate * 1;
      const nb = audioCtx.createBuffer(1, bufferSize, audioCtx.sampleRate);
      const data = nb.getChannelData(0);
      let last = 0;
      for(let i=0;i<bufferSize;i++){
        const w = Math.random()*2 - 1;
        data[i] = (last + (0.02*w)) / 1.02;
        last = data[i];
        data[i] *= 2.2;
      }
      const noiseSrc = audioCtx.createBufferSource();
      noiseSrc.buffer = nb;
      noiseSrc.loop = true;
      const noiseGain = audioCtx.createGain(); noiseGain.gain.value = 0.02;
      noiseSrc.connect(noiseGain); noiseGain.connect(master);

      // start
      o1.start(); o2.start(); lfo.start(); noiseSrc.start();

      ambientNodes = { audioCtx, master, o1, o2, lfo, noiseSrc, noiseGain };
      // note: we intentionally do NOT provide UI to stop this audio (per spec).
    }

    // Horror / special mode: visual and occasional whispers
    function engageHorror(){
      if(horrorActive) return;
      horrorActive = true;
      document.documentElement.classList.add('horror');
      appendTypedLine('H O R R O R   M O D E   —   engaged', {speed:6});

      // whisper bursts (occasional)
      const whisper = ()=>{
        if(!ambientNodes || !ambientNodes.audioCtx) return;
        const ctx = ambientNodes.audioCtx;
        const g = ctx.createGain(); g.gain.value = 0.018; g.connect(ctx.destination);
        const o = ctx.createOscillator(); o.type = 'triangle';
        o.frequency.value = 440 + Math.random()*400;
        o.connect(g); o.start();
        o.stop(ctx.currentTime + 0.12 + Math.random()*0.2);
        g.gain.exponentialRampToValueAtTime(0.0001, ctx.currentTime + 0.12 + Math.random()*0.2);
      };

      // schedule several whispers at random intervals for a while
      for(let i=0;i<8;i++){
        setTimeout(whisper, 300 + Math.random()*3000);
      }

      // small more aggressive screen jitter
      const jitter = ()=>{
        document.body.animate([{transform:'translateY(0)'},{transform:'translateY(-6px)'},{transform:'translateY(0)'}], {duration:700, easing:'ease-in-out'});
      };
      setInterval(jitter, 4200);

      // leave glitch overlay visible via CSS (body.horror)
    }

    // Initial state: gate shown, content blurred (body.locked class present)
    // boot note inside terminal (but hidden until unlocked) - to ensure it is seen after enter
    appendLine('Press ENTER to unlock the terminal and ambient audio.', 'muted');

    // For accessibility: focus input after gate is removed
    const observer = new MutationObserver(()=> {
      if(!document.body.classList.contains('locked')) {
        setTimeout(()=> cmdInput.focus(), 220);
      }
    });
    observer.observe(document.body, {attributes:true, attributeFilter:['class']});

    // Make ENTER key open gate if focused on page
    window.addEventListener('keydown', (e)=>{
      if(e.key === 'Enter' && document.body.classList.contains('locked')) {
        enterBtn.click();
      }
      // cmd focus hotkey: backtick
      if(e.key === '`') {
        if(!document.body.classList.contains('locked')) cmdInput.focus();
      }
    });

    // small safety: if audio context created by gesture was suspended, resume on any user action after unlock
    document.addEventListener('pointerdown', ()=> {
      if(ambientNodes && ambientNodes.audioCtx && ambientNodes.audioCtx.state === 'suspended') {
        ambientNodes.audioCtx.resume().catch(()=>{});
      }
    });

    // Bootstrap: nothing else — terminal only after ENTER

    /*************************************************************************
     * NEW: Slideshow logic
     * (Runs immediately on script load)
     *************************************************************************/
    (function initSlideshow() {
      const slides = document.querySelectorAll('.game-slideshow .slide');
      if (slides.length < 2) return; // No slideshow needed for 0 or 1 slide

      let currentSlide = 0;
      
      setInterval(() => {
        if (document.body.classList.contains('locked')) return; // Pause if gate is visible
        
        slides[currentSlide].classList.remove('active');
        currentSlide = (currentSlide + 1) % slides.length;
        slides[currentSlide].classList.add('active');
      }, 5000); // 5 second loop (1s fade out/in + 4s hold)
    })();
    document.querySelectorAll('a').forEach(a => {
  a.setAttribute('target', '_blank');
  a.setAttribute('rel', 'noopener noreferrer');
});
  </script>
</body>
</html>
